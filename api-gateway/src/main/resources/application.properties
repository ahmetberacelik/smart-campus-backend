# =====================================================
# Smart Campus API Gateway - Application Properties
# =====================================================

# Server Configuration
server.port=8080

# Application Name
spring.application.name=api-gateway

# -----------------------------------------------------
# Route Configuration
# -----------------------------------------------------

# Auth Service Routes
spring.cloud.gateway.routes[0].id=auth-service
spring.cloud.gateway.routes[0].uri=http://${AUTH_SERVICE_HOST:localhost}:${AUTH_SERVICE_PORT:8081}
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/**

# User Service Routes (Part of Auth Service in Part 1)
spring.cloud.gateway.routes[1].id=user-service
spring.cloud.gateway.routes[1].uri=http://${AUTH_SERVICE_HOST:localhost}:${AUTH_SERVICE_PORT:8081}
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/v1/users/**

# Department Service Routes (Part of Auth Service in Part 1)
spring.cloud.gateway.routes[2].id=department-service
spring.cloud.gateway.routes[2].uri=http://${AUTH_SERVICE_HOST:localhost}:${AUTH_SERVICE_PORT:8081}
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/v1/departments/**

# Course Service Routes (Academic Service)
spring.cloud.gateway.routes[3].id=course-service
spring.cloud.gateway.routes[3].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/v1/courses/**

# Section Service Routes (Academic Service)
spring.cloud.gateway.routes[4].id=section-service
spring.cloud.gateway.routes[4].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/v1/sections/**

# Enrollment Service Routes (Academic Service)
spring.cloud.gateway.routes[5].id=enrollment-service
spring.cloud.gateway.routes[5].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[5].predicates[0]=Path=/api/v1/enrollments/**

# Classroom Service Routes (Academic Service)
spring.cloud.gateway.routes[6].id=classroom-service
spring.cloud.gateway.routes[6].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[6].predicates[0]=Path=/api/v1/classrooms/**

# Grades Service Routes (Academic Service)
spring.cloud.gateway.routes[7].id=grades-service
spring.cloud.gateway.routes[7].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[7].predicates[0]=Path=/api/v1/grades/**

# Attendance Service Routes
spring.cloud.gateway.routes[8].id=attendance-service
spring.cloud.gateway.routes[8].uri=http://${ATTENDANCE_SERVICE_HOST:localhost}:${ATTENDANCE_SERVICE_PORT:8083}
spring.cloud.gateway.routes[8].predicates[0]=Path=/api/v1/attendance/**

# Meal Service Routes
spring.cloud.gateway.routes[9].id=meal-service
spring.cloud.gateway.routes[9].uri=http://${MEAL_SERVICE_HOST:localhost}:${MEAL_SERVICE_PORT:8084}
spring.cloud.gateway.routes[9].predicates[0]=Path=/api/v1/meals/**

# Wallet Service Routes (Meal Service)
spring.cloud.gateway.routes[10].id=wallet-service
spring.cloud.gateway.routes[10].uri=http://${MEAL_SERVICE_HOST:localhost}:${MEAL_SERVICE_PORT:8084}
spring.cloud.gateway.routes[10].predicates[0]=Path=/api/v1/wallet/**

# Event Service Routes
spring.cloud.gateway.routes[11].id=event-service
spring.cloud.gateway.routes[11].uri=http://${EVENT_SERVICE_HOST:localhost}:${EVENT_SERVICE_PORT:8085}
spring.cloud.gateway.routes[11].predicates[0]=Path=/api/v1/events/**

# Scheduling Routes (Academic Service - course scheduling)
spring.cloud.gateway.routes[12].id=scheduling-service
spring.cloud.gateway.routes[12].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[12].predicates[0]=Path=/api/v1/scheduling/**

# Notification Routes (Auth Service - Part 4)
spring.cloud.gateway.routes[13].id=notification-service
spring.cloud.gateway.routes[13].uri=http://${AUTH_SERVICE_HOST:localhost}:${AUTH_SERVICE_PORT:8081}
spring.cloud.gateway.routes[13].predicates[0]=Path=/api/v1/notifications/**

# Analytics Routes (Academic Service - Part 4)
spring.cloud.gateway.routes[14].id=analytics-service
spring.cloud.gateway.routes[14].uri=http://${ACADEMIC_SERVICE_HOST:localhost}:${ACADEMIC_SERVICE_PORT:8082}
spring.cloud.gateway.routes[14].predicates[0]=Path=/api/v1/analytics/**

# Default Filters
spring.cloud.gateway.default-filters[0]=DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE

# -----------------------------------------------------
# CORS Configuration
# -----------------------------------------------------
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:*}

# -----------------------------------------------------
# Actuator Configuration
# -----------------------------------------------------
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when_authorized

# -----------------------------------------------------
# Logging Configuration
# -----------------------------------------------------
logging.level.root=INFO
logging.level.org.springframework.cloud.gateway=INFO
logging.level.reactor.netty=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n